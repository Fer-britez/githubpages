<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Asistencia Niños</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      background: linear-gradient(to bottom right, #f0f4f8, #ffffff);
    }

    h2 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
    }

    .grupo {
      background: white;
      margin-bottom: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .titulo-grupo {
      background-color: #3498db;
      color: white;
      padding: 14px 16px;
      font-size: 18px;
      cursor: pointer;
    }

    .contenedor-miembros {
      display: none;
      padding: 10px 15px;
    }

    .miembro {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px;
      border-radius: 8px;
      margin-top: 8px;
      background-color: #f8d7da;
      transition: background-color 0.3s;
    }

    .miembro.verde {
      background-color: #d4edda;
    }

    .nombre {
      flex: 1;
      font-weight: 500;
      margin-right: 8px;
      font-size: 16px;
    }

    .acciones button {
      padding: 6px 10px;
      font-weight: bold;
      font-size: 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background-color: #28a745;
      color: white;
    }

    button#copiar-btn {
      padding: 14px 20px;
      font-size: 16px;
      width: 100%;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 30px;
    }

    button#copiar-btn:hover {
      background-color: #218838;
    }

    @media (max-width: 480px) {
      .nombre { font-size: 15px; }
      .acciones button { padding: 4px 6px; font-size: 12px; }
    }
  </style>
</head>
<body>

<h2>Asistencia del grupo coral de Niños</h2>

<div class="grupo">
  <div class="titulo-grupo" onclick="toggleMiembros(this)">Niñas</div>
  <div class="contenedor-miembros" id="grupo-ninas"></div>
</div>

<div class="grupo">
  <div class="titulo-grupo" onclick="toggleMiembros(this)">Niños</div>
  <div class="contenedor-miembros" id="grupo-ninos"></div>
</div>

<button id="copiar-btn" onclick="copiarAsistencia()">Copiar asistencia</button>

<script>
const ninas = [
  "Fernanda Abigail Fernandez Dias", "Sara Abigail Benitez Santander", "Helenm Arami Villalba Del Valle",
  "Micaela Monserrat Cabañas Miño", "Joselyn Ayelen Cabañas Miño", "Natalia Noemi Fariña Sosa",
  "Keren Belen Fariña Sosa", "Sofia Angelina Ruiz Dias Benitez", "Andrea Duarte",
  "Yoselin Alejandra Cespedes Trinidad", "Emili Guerrero", "Elsi Guerrero",
  "Luz Naria Cardozo Zarate", "Verenice Elizabeth Cardozo Zarate", "Yeimi Dahiana Noguera Aquino",
  "Maira Anahi Silva", "Sofia Belen Pereira", "Nicole Arami Piris Fariña"
];

const ninos = [
  "Carlos Emilio Fernandez Dias", "Mateo Isaias Benitez Santander", "Abdul Asiel Uzail Cabrera",
  "Dylan Moises Guerrero Morales", "Elias David Fariña Sosa", "Nestor Amin Ruiz Dias Benitez",
  "Benjamin Silva", "Fredy Santiago Jara Samaniego", "Leonardo Josue Arias Samaniego",
  "Benjamin Reyes Vera"
];
function toggleMiembros(titulo) {
  const contenedor = titulo.nextElementSibling;
  contenedor.style.display = contenedor.style.display === 'block' ? 'none' : 'block';
}

function crearMiembroHTML(nombre) {
  return `<div class="miembro" data-estado="ninguno" data-nombre="${nombre}">
    <span class="nombre">${nombre}</span>
    <div class="acciones">
      <button class="btn-asistio">Asistió</button>
    </div>
  </div>`;
}

window.onload = () => {
  const grupos = {
    "grupo-ninas": ninas,
    "grupo-ninos": ninos
  };

  for (let id in grupos) {
    const contenedor = document.getElementById(id);
    grupos[id].forEach(nombre => contenedor.innerHTML += crearMiembroHTML(nombre));
  }

  setTimeout(() => {
    document.querySelectorAll('.miembro').forEach(miembro => {
      const asistioBtn = miembro.querySelector('.btn-asistio');
      asistioBtn.addEventListener('click', () => {
        const estado = miembro.dataset.estado;
        if (estado === 'presente') {
          miembro.dataset.estado = 'ninguno';
          miembro.classList.remove('verde');
        } else {
          miembro.dataset.estado = 'presente';
          miembro.classList.add('verde');
        }
      });
    });
  }, 100);
}

function copiarAsistencia() {
  const grupos = document.querySelectorAll('.grupo');
  let textoFinal = '*Asistencia del Día*\n\n';

  grupos.forEach(grupo => {
    const nombreGrupo = grupo.querySelector('.titulo-grupo').textContent.trim();
    const miembros = grupo.querySelectorAll('.miembro');
    let presentes = [];

    miembros.forEach(m => {
      const estado = m.dataset.estado;
      const nombre = m.dataset.nombre;
      if (estado === 'presente') presentes.push(nombre);
    });

    if (presentes.length > 0) {
      textoFinal += `*${nombreGrupo}*\n`;
      presentes.forEach(n => textoFinal += `- ${n}\n`);
      textoFinal += '\n';
    }
  });

  const fecha = new Date();
  const dia = String(fecha.getDate()).padStart(2, '0');
  const mes = String(fecha.getMonth() + 1).padStart(2, '0');
  const anio = fecha.getFullYear();
  textoFinal += `Fecha: ${dia}/${mes}/${anio}`;

  navigator.clipboard.writeText(textoFinal)
    .then(() => alert('Asistencia copiada:\n\n' + textoFinal))
    .catch(err => alert('Error al copiar: ' + err));
}
</script>

</body>
</html>

